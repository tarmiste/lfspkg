# $Id: PKGBUILD 281497 2018-01-11 21:59:49Z bgyorgy $
# Maintainer: Balló György <ballogyor+arch at gmail dot com>

pkgname=sugar-activity-clock
_pkgname=clock-activity
pkgver=19
pkgrel=1
pkgdesc="Clock for Sugar"
arch=('any')
url="https://wiki.sugarlabs.org/go/Activities/Clock"
license=('GPL')
groups=('sugar-fructose')
depends=('espeak' 'sugar-toolkit-gtk3')
source=(https://github.com/sugarlabs/$_pkgname/archive/v$pkgver.tar.gz)
sha256sums=('9439f4212c2afb0574b48662b1b4a8379e84afc92a82e0f7f667c83b43de8dba')

prepare() {
  cd $_pkgname-$pkgver
  find . -type f | xargs sed -i 's@^#!.*python$@#!/usr/bin/python2@'
}

package() {
  cd $_pkgname-$pkgver
  python2 setup.py install --prefix "$pkgdir/usr" --skip-install-desktop-file
}
